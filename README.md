Based on files ive seen uploadable vs not I looked into the details and noticed that WhatsApp has specific video preferences like:

Video bitrate of ~488k and and audio bitrate of 128k maximum

and perhaps come codec preferances but I didnt test to confirm that specifically, the script itself is tested and working, videos can be uploaded after the change 
